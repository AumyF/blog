---
layout: "../../../../../layouts/BlogPostLayout.astro"
title: "モダンWebフロントエンドでは、なぜこれほど色々なツールを使う必要があるのだろうか？"
tags: [TypeScript, JavaScript, Webフロントエンド]
synopsis: モダンなWebフロントエンド、ReactやVueなどをやると大量のツールを操ることになる。それらがなぜ必要なのかについて解説していく。
---

モダン Web フロントエンド&mdash;React や Vue、Svelte といった**宣言的 UI**フレームワーク&mdash;を利用した開発に入門すると、いろいろなツールを導入させられる。いま「宣言的 UI フレームワーク」というカテゴリで React、Vue、Svelte に言及したわけだが、それ以外にも Node.js、Vite、TypeScript、Webpack、pnpm、Babel、Jest、ESLint、Prettier、Sass、Prisma、Next.js、Tailwind CSS……など、本当にいろいろなツールが登場し、一挙に導入させられることになる。これらのツールがいったい何をしているのか理解しないまま導入するのはあまりよくない。その役割を把握して、適切な場面で利用できるのがよいのだ。

この記事ではとりあえず筆者が考えてみて浮かんだツールを列挙しまくり、役割別に分類して適当な解説をおこなっていく。とりあえず全部読むと Web フロントエンドが何してるかわかるようになる気がする。「Babel って何？」というような疑問から引くときはページ内検索をするとよい。

# 宣言的 UI

いきなり少し GUI についての概念的な話をしなければならないのが心苦しいが、する。

どんな GUI アプリケーションにも**状態 (state)**がある。どのタブを選択しているか、入力欄にはどのような文字列が記入されているか、Shift キーが押されているか、ポップアップメニューが出ているか否か、未読の通知があるかなど、実に多彩だ。そして、それらの状態は、UI として表示され、ユーザーが認識して理解できる。選択中のタブには色がつく。入力欄に文字が出る。Shift キーを押している間はマウスカーソルの形が変わる。ポップアップメニューが出たり消えたりする。未読の通知が赤丸で表示される。

そして、状態はユーザーの操作などによって変化し、それが UI の変化としてユーザーにも認識できる。別のタブをクリックすればそれがアクティブになり、Shift キーを離せばカーソルの形は戻り、通知を消化すれば未読の赤丸は消える。

ここで、アプリケーションの状態が変わると UI が変化する、という仕組みを、Web ブラウザが搭載している DOM API だけで実装しようとすると、苦労することになる。DOM API

# TypeScript

TypeScript は JavaScript に静的型検査のための文法を追加した言語である。やたらめったら使われているという言葉では生易しいくらい使われており、プロジェクトの雛形を持ってきたらもう TypeScript が設定済みといったことが稀によくある。

TypeScript は Microsoft が勝手に作っている拡張でありいまのところ Web 標準ではないため、Web ブラウザで実行するためには JavaScript に変換してやる必要がある。そのためのツール (トランスパイラまたはコンパイラとよばれる) が複数ある。

- tsc…公式。型チェックはこれでしかできない。遅いがち。
- esbuild…はやい。
- swc

# 先進的機能の利用

アプリの利用者によって Web ブラウザの種類やバージョンは異なるが、たとえば古いバージョンのユーザーに対応するために新しい機能が使えないというのはなかなかもどかしい。

- Babel
- tsc
- swc
- esbuild

# テンプレート言語

コンポーネント

**Single File Component (SFC)** は、HTML テンプレート、CSS、それらを操作する JavaScript を 1 ファイルにまとめたファイルフォーマットだ。Vue、Svelte、Astro がそれぞれ似ているけど別のやつをもっている。基本的にエディタサポートでも TypeScript に対応しているが、SFC の language server が tsserver を呼び出す形になっているため調子が悪くなりやすい。

**JSX** は JavaScript ソースに HTML のようなものを書けるようにした拡張だ。React、Preact、Solid では標準的に使われていて、Vue でも使える。TypeScript の公式ツールがサポートしているため安定性がある。
